<!DOCTYPE html>
<html
   prefix="dct: http://purl.org/dc/terms/
   		   foaf: http://xmlns.com/foaf/0.1/
   		   rdf: http://www.w3.org/1999/02/22-rdf-syntax-ns#
   		   xf: http://www.w3.org/2002/xforms
           xsd: http://www.w3.org/2001/XMLSchema
           xsi: http://www.w3.org/2001/XMLSchema-instance
           cc: http://creativecommons.org/ns#"
   lang="de-de"
>
    <title> Hello Spotfire &middot; Alexander von Boguszewski </title>
	<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="author" content="Alexander von Boguszewski">
<meta name="robots" content="index,follow">
<meta name="revisit-after" content="5 days">
<meta name="description" content="">
<meta property="og:url" content="http://alexander.vonboguszewski.name/techdocs/spotfire/">
<meta property="og:title" content="Hello Spotfire">
<meta property="og:description" content="">

<link rel="stylesheet" href="/css/general.css">



<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>

<script>
	
	function enc(text) {
		  var map =  "!\"#$%&'()*+,-";
			map += "./0123456789:;<=>?";
			var R = new String()
			map += "@ABCDEFGHIJKLMNOPQRSTU";
			map += "VWXYZ[\\]^_`abcdefghijklm";
			var i, j, c, len;
			map += "nopqrstuvwxyz{|}~";
		  	len = map.length;
		  	for(i = 0; i < text.length; i++) {
		  	  c = text.charAt(i)
		  	  j = map.indexOf(c)
		  	  if (j >= 0) {
		  	    c = map.charAt((j + len / 2) % len)
		  	  }
		  	  R = R + c
		  	}
		  	return R;
		}

		function toggleMe(a,b){
		  var onDiv=document.getElementById(a);
			var onLink=document.getElementById(a+"_link");
			var offDiv=document.getElementById(b);
			var offLink=document.getElementById(b+"_link");
		 	if(!onDiv || !offDiv){
				return true;
			} else {

			$(offDiv).fadeOut(1500);
			offLink.style.fontWeight="normal";
			$(onDiv).fadeIn(1500);
			onLink.style.fontWeight="bold";

		  	return true;
			}
		}
</script>

 
	<script type="application/ld+json">
		{
		  "@context": "http://schema.org",
		  "@type": "BlogPosting",
  		   "headline": "Hello Spotfire",
 			"url" : "http:\/\/alexander.vonboguszewski.name\/techdocs\/spotfire\/",
  			"author": {
    			"@type": "Person",
  				"name" : "Alexander von Boguszewski", 
  				"url" : "http:\/\/alexander.vonboguszewski.name\/"
  			  },
  			  "publisher": {
    			"@type": "Organization",
  				"name" : "Alexander von Boguszewski Personal Webpage" ,
  				"logo": {
     				 "@type": "ImageObject",
      				 "url": "http:\/\/alexander.vonboguszewski.name\/images\/bg.png"
   				 }
  			  },
  			  "mainEntityOfPage": {
        		 "@type": "WebPage",
       			 "@id": "http:\/\/alexander.vonboguszewski.name\/"
    		  }
  			
  			, "dateModified": "2016-07-29T00:00:00\u002b00:00"
  			, "datePublished": "2016-07-29T00:00:00\u002b00:00"
  			, "keywords": "admin,analytics,application-integration,bigdata,bw5,daten-integration,db,integration,programming,bw5,bw6,bwce,cmd,datafabric,db,excel,hawk,java,mail,outlook,rsync,singer,spotfire,talend,things,tibco,tos,"
		}
		</script>

		        
    </head>
	<body class="avb-light">
		
		<nav class="avb-sidebar avb-bar-block avb-small avb-hide-small avb-center">
		  
		  <br>
	      <img src="/images/bg.png" alt="Alexander von Boguszewski" style="width:100%">
		  <a href="/" class="avb-bar-item avb-button avb-padding-large avb-hover-ambient">
		    <p>&lt;&lt;HOME</p>
		  </a>
		  <a href="/techdocs/" class="avb-bar-item avb-button avb-padding-large avb-hover-ambient">
		    <p>&lt;TechDocs</p>
		  </a>
		</nav>
		
		<div class="avb-top avb-hide-large avb-hide-medium" id="myNavbar">
		  <div class="avb-bar avb-light avb-opacity avb-hover-opacity-off avb-center avb-small">
		  	  
		    <a href="/" class="avb-bar-item avb-button" style="width:25% !important">&lt;&lt;HOME</a>
		    <a href="/techdocs/" class="avb-bar-item avb-button" style="width:25% !important">&lt;TechDocs</a>
		  </div>
		</div>
		
		<div class="avb-padding-large" id="main">
		  
		  <header class="avb-container avb-padding-medium avb-center avb-light" id="home">
		  		<br>
	  			<p class="avb-large font-weight: bold;">Alexander von Boguszewski</p>
		  		<h1 class="avb-jumbo font-weight: bold;">Hello Spotfire</h1>
		    	<p class="avb-text-normal"></p>
		    </header>
	  		<div class="avb-content avb-text-normal avb-padding-medium" id="content">
	  			<span class="post-date">Jul 29, 2016 </span>
	  			<hr style="width:200px" class="avb-opacity">
                <p>TIBCO Spotfire hilft bei der visuelle Datenexploration und kann schnell und unkompliziert Informationen
aus Daten gewinnen. Die Wurzeln von Spotfire liegen bereits in den frühen 90-er Jahren.
An der Universität Maryland arbeiteten Christoph Ahlberg und Ben Shneiderman an Software,
die die Visualisierung von Daten ermöglichen sollte. Daraus entstand das ”Information Visualization and Exploration Environment”
(IVEE). Hieraus entwickelte sich 1996 Spotfire. Das dahinterstehende Unternehmen wurde 2007 von Tibco aufgekauft.
Es existieren sowohl Desktop als auch Server Versionen, für die nachfolgende erste Analyse reicht jedoch die Desktop Version vollkommen aus.</p>
<p>Spotfire unterstützt verschiedenste Dateiquellen. Neben den Standards wie Excel- und CSVDateien,
werden auch relational Datenbanken (Oracle, MSSQL, PostgreSQL,..) und Business Lösungen
wie Salesforce oder SAP unterstützt.</p>
<p>Der Einfachheit halber beginnen wir mit für unsere erste Analyse mit CSV Dateien.
Wir benutzen dazu Datensätze aus dem OpenData Portal der Deutsche Bahn.
Zu dem <a href="http://data.deutschebahn.com/dataset/data-call-a-bike">Call-A-Bike</a> Angebot liefert die Deutsch Bahn Daten zu
Fahrädern, Stationen und Buchungen. Ich habe die Daten von Juli 2016 genommen. Nach dem Download der Dateien können die
Daten in Spotfire geladen werden.</p>
<h2 id="datenimport">Datenimport</h2>
<p>Als erstes lade ich <code>HACKATHON_VEHICLE_CALL_A_BIKE</code> in Spotfire</p>
<figure>
    <img src="/techdocs/spotfire/1.png"/> <figcaption>
            <h4>Öffne CSV Datei</h4>
        </figcaption>
</figure>

<p>Beim Import können schon die Datentypen der Spalten angepasst werden, einzelne Zeilen
ignoriert werden und das Encoding angepasst werden.
Wir laden nur die Spalten <code>VEHICLE_HAL_ID,VEHICLE_HAL_SRC, VEHICLE_MODEL_NAME, VEHICLE_TYPE_NAME</code> und <code>COMPANY</code></p>
<p>Anschließend importiere mit ich &ldquo;Add Data Tables&rdquo; -&gt; ADD -&gt; Files  die Datei
<code>HACKATHON_BOOKING_CALL_A_BIKE</code>. Die Datentypen müssen noch manuell angepasst werden.</p>
<figure>
    <img src="/techdocs/spotfire/2.png"/> <figcaption>
            <h4>Import Assistent</h4>
        </figcaption>
</figure>

<figure>
    <img src="/techdocs/spotfire/3.png"/> <figcaption>
            <h4>add Data table</h4>
        </figcaption>
</figure>

<p>Über Manage Relation können die beiden Dateien über die Spalte <code>Vehicle_Hal_ID</code> miteinander verknüpft werden.
Die Datei ist 6GB (&lt;12000000 Zeilen) groß, also dauert das Laden einen Moment.
Anschließend importieren wir noch <code>HACKATHON_RENTAL_ZONE_CALL_A_BIKE</code> und Verknüpfen die Daten über die
Spalte <code>RENTAL_ZONE_HAL_ID</code>.</p>
<p>Die Daten können wir uns jetzt über <code>Insert-&gt;Visualization-&gt;Data</code> (oder den Shortcut Crtl+1) darstellen lassen.</p>
<p>Der Datatype für einige Spalten ist nach einem einfachen Importieren noch falsch, da wir die Typen beim Import
nicht angepasst haben. Aber wir können das aber auch nachträglich anpassen. Dazu muss nur <code>Insert&gt;Transformations</code> ausgewählt werden.
Dann die richtige Data Table und unter Transformation &ldquo;Change Data Type&rdquo;.
Mit Add können dann die Transformationen für die DATE Spalten und die Service Length Spalten
die richtigen Datentypen angelegt werden.</p>
<h2 id="visualisierung">Visualisierung</h2>
<p>Erst Mal eine Barchart mit den Buchungen je Monat.
Dazu eine Barchart einfügen Insert&gt;Visualization&gt;BarChart (oder CTRL+3)
In der Y Achse Row Count und in der X-Achse DateBooking auswählen und
dann Year+Quarter+Month.</p>
<figure>
    <img src="/techdocs/spotfire/4.png"/> <figcaption>
            <h4>Histogram</h4>
        </figcaption>
</figure>

<p>Bei der Analyse der Rohdaten fällt auf, dass entweder <code>Trip_Length_Minutes</code> oder
<code>Trip_Length_Service_Minutes</code> gefüllt ist. Um die Mietdauer genauer zu analysieren,
können wir das normalisieren. Dazu Insert&gt;Calculated Columns auswählen</p>
<figure>
    <img src="/techdocs/spotfire/5.png"/> <figcaption>
            <h4>Insert Calculated Column</h4>
        </figcaption>
</figure>

<p>Zur Analyse erstellen wir ein LineChart über Date Booking und unsere Calculated Column</p>
<figure>
    <img src="/techdocs/spotfire/6.png"/> <figcaption>
            <h4>LineChart</h4>
        </figcaption>
</figure>

<p>Hier fällt direkt ein Ausreißer im Dezember 2014 auf. Im Winter gehen einige der Räder in die Winterpause,
es scheint also, dass hier Buchungsfehler vorliegen. Außerdem haben einige
der Buchungen mit der <code>Booking_Length_Classification &gt;180min</code> keine <code>Trip_Length</code> Werte. Wir können die Daten aber aus der
Analyse löschen. Dazu müssen wir nur den Filter setzen
<figure>
    <img src="/techdocs/spotfire/6.png"/> <figcaption>
            <h4>Filter</h4>
        </figcaption>
</figure>
</p>
<p>Dann in der Tabelle mit Strg+a alle Zeilen auswählen und mit einem Rechtsklick&gt;Marked Rows&gt;Delete die Zeilen löschen.
Auch alle Buchungen aus Juli 2016 sollten gelöscht werden, da der Monat nicht komplett im Datensatz
enthalten ist.
<figure>
    <img src="/techdocs/spotfire/8.png"/> <figcaption>
            <h4>Filtered LineChart</h4>
        </figcaption>
</figure>
</p>
<p>Nachdem die Daten bereinigt sind, bauen wir eine neue Visualisierung mit Insert -&gt; New Page
Dann können wir eine Bar Chart Visualisierung über das VehicleCallABike Dataset und eine Tabelle über das BookingCallABike Dataset.
<figure>
    <img src="/techdocs/spotfire/10.png"/> <figcaption>
            <h4>Bar Chart</h4>
        </figcaption>
</figure>

Über die Data Properties des Datasets VehicleCallABike kann das Marking definiert werden.
Über das Marking können auch die Daten in anderen Visualisierungen eingeschränkt werden.
<figure>
    <img src="/techdocs/spotfire/11.png"/> <figcaption>
            <h4>Marking Vehicle Type Name</h4>
        </figcaption>
</figure>

<figure>
    <img src="/techdocs/spotfire/12.png"/> <figcaption>
            <h4>Marking Call a Bike</h4>
        </figcaption>
</figure>
</p>
<p>Dazu müssen wir in den Properties des BookingCallABike Dataset das Data limiting definieren.
Sinnvoll ist es, anstatt des Standard Namens Marking1, Marking2, … einen sinnvoller Namen zu verwenden.</p>

            </div>
            <hr style="width:200px" class="avb-opacity">
        	<div id="footer" style="font-size:small;">
<span property="dct:title"><a property="cc:attributionName" rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Lizensiert unter einer Creative Commons Lizent - Weitergabe unter gleichen Bedingungen</a></span>
| <a href="/imprint/">Impressum</a>
</div>
        </div>
	</body>
</html>
